# 2.8.1动画队列/动画设计/动画实现

## 我们怎么往dom元素身上添加属性

1. 一般我们的做法如下
```js
  var box = document.querySelector(".box");
  box[sayhi] = function(){}
```
但是这样添加的自定义属性和过多的数据极容易造成内存泄漏，什么是内存泄漏呢？（套用老师的回答）
维基百科中说一块内存被长期持有，得不到释放。不必要的内存损耗都是内存泄漏。
这里为什么说会内存泄漏呢？因为我们的dom元素会常驻于内存当中，这个元素只要浏览器还开着就一直渲染在页面上，不会被垃圾回收机制收回，除非你把页面关掉，他才会被释放，加上你把一些数据和属性添加到这个dom元素身上，他所占的内存会越来越大，会严重影响到内存的消耗。

2. 所以为了性能考虑我们应该采取一种，在内存中开辟一个缓存空间，这个缓存空间可以存放dom元素的一些数据和属性，但是我们要拿到dom元素身上的一个唯一凭证去拿到缓存空间中相对应的缓存空间，这个凭证就相当于是一个钥匙，这个钥匙就在每一个已有缓存空间dom元素身上，当然如果一个dom元素身上没有缓存空间的话，缓存空间会去创建一个空间给你存储数据和属性。
